@section Head{
    <style>
        .imgsrc {
            width: 100%;
            height: 200px;
        }

        /* .card {
                background-color: wheat
            }
        */
        .none {
            display: none;
        }
    </style>
}

    <!-- Topbar Start -->
    <div class="container-fluid" style="background-color:#2f4f4f;">
        <div class="row align-items-center justify-content-md-end py-3 px-xl-5">
            <div class="col-lg-6 col-6 text-left ">
                <form action="">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="尋找商品">
                        <div class="input-group-append">
                            <span class="btn input-group-text bg-transparent text-primary">
                                <i class="fa fa-search"></i>
                            </span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-lg-3 col-6 text-right">
                @*<a href="" class="btn border">
                    <i class="fas fa-heart text-primary"></i>
                    <span class="badge">0</span>
                </a>*@
                <a href="/Shop/Cart" class="btn border">
                    <i class="fas fa-shopping-cart text-primary"></i>
                    <span class="badge">0</span>
                </a>
            </div>
        </div>
    </div>
    <!-- Topbar End -->

    <!-- Categories Start -->
    <div class="container-fluid pt-5">

            <div class="row px-xl-5 pb-3 justify-content-center">
                <div class="col-lg-3 col-md-4 col-sm-6 pb-2">
                    <div class="team-item mb-4">
                        <div class="team-img position-relative overflow-hidden">
                            <img class="img-fluid w-100" src="~/img/team-2.jpg" alt="">
                        </div>
                        <div class="text-center py-4">
                            <h4 class="text-truncate">熱銷商品</h4>
                        </div>
                    </div>
                </div>
            
                <div class="col-lg-3 col-md-4 col-sm-6 pb-2">
                    <div class="team-item mb-4">
                        <div class="team-img position-relative overflow-hidden">
                            <img class="img-fluid w-100" src="~/img/team-2.jpg" alt="">
                        </div>
                        <div class="text-center py-4">
                            <h4 class="text-truncate">主打商品</h4>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-6 pb-2">
                    <div class="team-item mb-4">
                        <div class="team-img position-relative overflow-hidden">
                            <img class="img-fluid w-100" src="~/img/team-2.jpg" alt="">
                        </div>
                        <div class="text-center py-4">
                            <h4 class="text-truncate">優惠商品</h4>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <!-- Categories End -->

	

	<!-- Products Start -->
    <div class="container-fluid pt-6">
        <div class="text-center mb-4">
            <h2 class="section-title px-5"><span class="px-2">網站精選商品</span></h2>
        </div>
    <div class="row px-xl-5 pb-3" id="productIndex">
        <div class="col-lg-3 col-md-6 col-sm-12 pb-1" v-for="(item,index) in products ">
                <div class="card team-item border-0 mb-4">
                <a class="ProductDetail" @@click.preventDefault="submit(index)">
                    <form class="none" action="/Shop/ProductDetail">
                        <input :value="item.productId" type="number" name="id" /><button type="submit" ref="form"></button>
                    </form>
                    <img class="imgsrc" :src="item.productPicturePath" alt="">
                    </a>
                    @*<a href="/Shop/ProductDetail" class="card-body border-left border-right text-center p-0 pt-4 pb-3">*@
                        <h5 class="text-truncate mb-3">{{item.productName}}</h5>
                        <div class="d-flex justify-content-center">
                            <h6>${{item.productUnitPrice}}</h6>
                        </div>
                    @*</a>*@
                    <div class="card-footer d-flex justify-content-between bg-light border">
@*                        <a href="/Shop/ProductDetail" class="btn btn-sm text-dark p-0">
                            <i class="fas fa-eye text-primary mr-1"></i>商品詳情</a>*@
                    <a :href="'Shop/AddtoCart?id='+ item.productId" class="Shopping-Cart" onclick="ShowMessage ()">
                        <i class="fas fa-shopping-cart text-primary mr-1"></i>加入購物車
@*                        <form class="none" action="/Shop/AddtoCart">
                            <input :value="item.productId" type="number" name="id2" /><button type="submit" ref="form"></button>
                        </form>*@
                    </a>
                    </div>
                </div>
            </div>
            @*
            <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
                <div class="card team-item border-0 mb-4">
                    <a href="" class="card-header team-img position-relative overflow-hidden bg-transparent border p-0">
                        <img class="img-fluid w-100 " src="~/img/03.jpg" alt="">

                    </a>
                    <a href="" class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                        <h5 class="text-truncate mb-3">淺水錶</h5>
                        <div class="d-flex justify-content-center">
                            <h6>$123.00</h6>
                        </div>
                    </a>
                    <div class="card-footer d-flex justify-content-between bg-light border">
                        <a href="" class="btn btn-sm text-dark p-0">
                            <i class="fas fa-eye text-primary mr-1"></i>商品詳情</>
                            <a href="" class="btn btn-sm text-dark p-0"><i class="fas fa-shopping-cart text-primary mr-1"></i>加入購物車</a>
                    </div>
                </div>
            </div>*@

        </div>
    </div>
    <!-- Products End -->
<!-- Featured Start -->
<div class="container-fluid py-5">
    <div class="row px-xl-5 pb-3">
        <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
            <div class="d-flex align-items-center border mb-4" style="padding: 30px;">
                <h1 class="fa fa-check text-primary m-0 mr-3"></h1>
                <h5 class="font-weight-semi-bold m-0">品質保證</h5>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
            <div class="d-flex align-items-center border mb-4" style="padding: 30px;">
                <h1 class="fa fa-shipping-fast text-primary m-0 mr-2"></h1>
                <h5 class="font-weight-semi-bold m-0">全站免運</h5>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
            <div class="d-flex align-items-center border mb-4" style="padding: 30px;">
                <h1 class="fas fa-exchange-alt text-primary m-0 mr-3"></h1>
                <h5 class="font-weight-semi-bold m-0">14天鑑賞期</h5>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
            <div class="d-flex align-items-center border mb-4" style="padding: 30px;">
                <h1 class="fa fa-phone-volume text-primary m-0 mr-3"></h1>
                <h5 class="font-weight-semi-bold m-0">24小時客服</h5>
            </div>
        </div>
    </div>
</div>
<!-- Featured End -->

@*    <!-- Subscribe Start -->
    <div class="container-fluid bg-secondary my-5">
        <div class="row justify-content-md-center py-5 px-xl-5">
            <div class="col-md-6 col-12 py-5">
                <div class="text-center mb-2 pb-2">
                    <h2 class="section-title px-5 mb-3"><span class="bg-secondary px-2">Stay Updated</span></h2>
                    <p>Amet lorem at rebum amet dolores. Elitr lorem dolor sed amet diam labore at justo ipsum eirmod duo labore labore.</p>
                </div>
                <form action="">
                    <div class="input-group">
                        <input type="text" class="form-control border-white p-4" placeholder="Email Goes Here">
                        <div class="input-group-append">
                            <button class="btn btn-primary px-4">Subscribe</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Subscribe End -->
*@
    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white-50 py-5 px-sm-3 px-lg-5" style="margin-top: 90px;">
        <div class="row pt-5">
            <div class="col-lg-3 col-md-6 mb-5">
                <a href="" class="navbar-brand">
                    <h1 class="text-primary"><span class="text-white">TRAVEL</span>ER</h1>
                </a>
                <p>Sed ipsum clita tempor ipsum ipsum amet sit ipsum lorem amet labore rebum lorem ipsum dolor. No sed vero lorem dolor dolor</p>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">我們提供的服務</h5>
                <div class="d-flex flex-column justify-content-start">
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>購物商城</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>社群揪團</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>景點介紹</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>會員中心</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>廠商專區</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Contact Us</h5>
                <p><i class="fa fa-map-marker-alt mr-2"></i>台北市中山區南京東路三段219號5樓</p>
                <p><i class="fa fa-phone-alt mr-2"></i>0987-654-321</p>
                <p><i class="fa fa-envelope mr-2"></i>group3@gmail.com</p>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Follow Us</h5>
                <div class="d-flex justify-content-start">
                    <a class="btn btn-outline-primary btn-square mr-2" href="#"><i class="fab fa-twitter"></i></a>
                    <a class="btn btn-outline-primary btn-square mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-outline-primary btn-square mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a class="btn btn-outline-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid bg-dark text-white border-top py-4 px-sm-3 px-md-5" style="border-color: rgba(256, 256, 256, .1) !important;">
        <div class="row">
            <div class="col-lg-6 text-center text-md-left mb-3 mb-md-0">
                <p class="m-0 text-white-50">
                    Copyright &copy; <a href="#">Domain</a>. All Rights Reserved.</a>
                </p>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Template Javascript -->

<script src="~/js/vue-number-input.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"></script>
<script>
    //Vue.use(VueNumberInput);
    //Vue.component('vue-number-input', VueNumberInput);
    let app = new Vue({
        el: "#productIndex",
        data: {
            products: [],
            productpic: []
        },
        methods: {
            //addToCart: function (product) {
            //    console.log(product);
            //    let data = {
            //        productId: product.id,
            //        amount: product.qty
            //    }
            //    fetch("/api/Cart/", {
            //        body: JSON.stringify(data),
            //        headers: {
            //            'content-type': 'application/json'
            //        },
            //        method: 'POST',
            //    }).then(function (response) { return response.text() })
            //        .then(function (result) {
            //            if (result) {
            //                master.getData();
            //                Swal.fire({
            //                    icon: 'success',
            //                    title: '加入成功',
            //                    text: '您已成功加入商品!'
            //                });
            //            } else {
            //                Swal.fire({
            //                    icon: 'error',
            //                    title: 'Oops...',
            //                    text: 'Something went wrong!',
            //                    footer: '<a href="">Why do I have this issue?</a>'
            //                })
            //            }

            //        })
            //},
            submit: function (index) {
                console.log(this.$refs.form[index]);
                this.$refs.form[index].click();

            }
        },
        mounted: function () {
            let self = this;
            fetch("/api/Product")
                .then(function (response) { return response.json() })
                .then(function (result) {
                    self.products = result.map(function (x) {
                        //x.qty = 0;

                        return x
                    })
                })
        }
    })
</script>
<script>
    function ShowMessage() {
        //toastr["success"]("商品已加入購物車！");
        //alert("商品已加入購物車！");
        Swal.fire({
            position: 'top-end',
            icon: 'success',
            title: '商品已加入購物車！',
            showConfirmButton: false,
            timer: 500
        })
    }
    
</script>